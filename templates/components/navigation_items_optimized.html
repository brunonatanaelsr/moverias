<!-- Nova Estrutura de Navegação Centrada na Beneficiária -->
<!-- Arquivo: templates/components/navigation_items_optimized.html -->

<!-- Dashboard Principal -->
<a href="{% url 'dashboard:home' %}" 
   class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
          {% if request.resolver_match.app_name == 'dashboard' %}
              bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 border-r-2 border-move-purple-500 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
          {% else %}
              text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
          {% endif %}">
    <i class="fas fa-home mr-3 h-5 w-5 flex-shrink-0"></i>
    Dashboard
</a>

<!-- BENEFICIÁRIAS - Módulo Principal -->
<div class="mt-6">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Beneficiárias
    </h3>
    
    <div x-data="{ open: {% if request.resolver_match.app_name == 'members' or request.resolver_match.app_name == 'social' or request.resolver_match.app_name == 'evolution' or request.resolver_match.app_name == 'coaching' %}true{% else %}false{% endif %} }">
        <button @click="open = !open" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
                       {% if request.resolver_match.app_name == 'members' or request.resolver_match.app_name == 'social' or request.resolver_match.app_name == 'evolution' or request.resolver_match.app_name == 'coaching' %}
                           bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
                       {% else %}
                           text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
                       {% endif %}">
            <i class="fas fa-users mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Gestão de Beneficiárias</span>
            <i class="fas fa-chevron-right h-4 w-4 flex-shrink-0 transition-transform duration-150" 
               :class="{ 'rotate-90': open }"></i>
        </button>
        
        <div x-show="open" class="mt-1 space-y-1">
            <a href="{% url 'members:beneficiary-list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-list mr-3 h-4 w-4 flex-shrink-0"></i>
                Todas as Beneficiárias
            </a>
            
            <a href="{% url 'members:beneficiary-create' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-plus mr-3 h-4 w-4 flex-shrink-0"></i>
                Nova Beneficiária
            </a>
            
            <a href="{% url 'social:list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-clipboard-list mr-3 h-4 w-4 flex-shrink-0"></i>
                Anamnese Social
            </a>
            
            <a href="{% url 'evolution:list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-chart-line mr-3 h-4 w-4 flex-shrink-0"></i>
                Evolução & Progresso
            </a>
            
            <!-- Coaching & Desenvolvimento -->
            <div class="pl-7">
                <div class="border-l-2 border-gray-200 dark:border-gray-600 ml-2">
                    <a href="{% url 'coaching:action-plan-list' %}" 
                       class="group flex items-center pl-6 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                        <i class="fas fa-bullseye mr-3 h-4 w-4 flex-shrink-0"></i>
                        Planos de Ação
                    </a>
                    
                    <a href="{% url 'coaching:wheel-list' %}" 
                       class="group flex items-center pl-6 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                        <i class="fas fa-circle-notch mr-3 h-4 w-4 flex-shrink-0"></i>
                        Roda da Vida
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ATIVIDADES & PROJETOS -->
<div class="mt-6">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Atividades & Projetos
    </h3>
    
    <div x-data="{ open: {% if request.resolver_match.app_name == 'projects' or request.resolver_match.app_name == 'workshops' or request.resolver_match.app_name == 'certificates' %}true{% else %}false{% endif %} }">
        <button @click="open = !open" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
                       {% if request.resolver_match.app_name == 'projects' or request.resolver_match.app_name == 'workshops' or request.resolver_match.app_name == 'certificates' %}
                           bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
                       {% else %}
                           text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
                       {% endif %}">
            <i class="fas fa-project-diagram mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Atividades & Projetos</span>
            <i class="fas fa-chevron-right h-4 w-4 flex-shrink-0 transition-transform duration-150" 
               :class="{ 'rotate-90': open }"></i>
        </button>
        
        <div x-show="open" class="mt-1 space-y-1">
            <a href="{% url 'projects:project-list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-folder mr-3 h-4 w-4 flex-shrink-0"></i>
                Projetos
            </a>
            
            <a href="{% url 'workshops:workshop-list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-chalkboard-teacher mr-3 h-4 w-4 flex-shrink-0"></i>
                Workshops
            </a>
            
            <a href="{% url 'certificates:dashboard' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-certificate mr-3 h-4 w-4 flex-shrink-0"></i>
                Certificados
            </a>
        </div>
    </div>
</div>

<!-- COMUNICAÇÃO -->
<div class="mt-6">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Comunicação
    </h3>
    
    <div x-data="{ open: {% if request.resolver_match.app_name == 'chat' or request.resolver_match.app_name == 'communication' %}true{% else %}false{% endif %} }">
        <button @click="open = !open" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
                       {% if request.resolver_match.app_name == 'chat' or request.resolver_match.app_name == 'communication' %}
                           bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
                       {% else %}
                           text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
                       {% endif %}">
            <i class="fas fa-comments mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Comunicação</span>
            <i class="fas fa-chevron-right h-4 w-4 flex-shrink-0 transition-transform duration-150" 
               :class="{ 'rotate-90': open }"></i>
        </button>
        
        <div x-show="open" class="mt-1 space-y-1">
            <a href="{% url 'chat:home' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-comments mr-3 h-4 w-4 flex-shrink-0"></i>
                Chat Interno
            </a>
            
            <a href="{% url 'communication:announcement_list' %}" 
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-bullhorn mr-3 h-4 w-4 flex-shrink-0"></i>
                Comunicados
            </a>
            
            <a href="#" id="quick-message-btn"
               class="group flex items-center pl-11 pr-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-move-purple-300 dark:hover:bg-gray-700 transition-colors duration-150">
                <i class="fas fa-paper-plane mr-3 h-4 w-4 flex-shrink-0"></i>
                Mensagem Rápida
            </a>
        </div>
    </div>
</div>

<!-- RELATÓRIOS & ANÁLISES -->
<div class="mt-6">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Relatórios & Análises
    </h3>
    
    <a href="{% url 'dashboard:reports' %}" 
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
        <i class="fas fa-chart-bar mr-3 h-5 w-5 flex-shrink-0"></i>
        Dashboard Executivo
    </a>
    
    <a href="#" id="custom-reports-btn"
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
        <i class="fas fa-file-alt mr-3 h-5 w-5 flex-shrink-0"></i>
        Relatórios Personalizados
    </a>
    
    <a href="#" id="analytics-btn"
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
        <i class="fas fa-search mr-3 h-5 w-5 flex-shrink-0"></i>
        Análises Avançadas
    </a>
</div>

<!-- SISTEMA -->
<div class="mt-6">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Sistema
    </h3>
    
    <a href="{% url 'notifications:list' %}" 
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
              {% if request.resolver_match.app_name == 'notifications' %}
                  bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 border-r-2 border-move-purple-500 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
              {% else %}
                  text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
              {% endif %}">
        <i class="fas fa-bell mr-3 h-5 w-5 flex-shrink-0"></i>
        <span class="flex-1">Notificações</span>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200">
            3
        </span>
    </a>
    
    <a href="{% url 'users:user-list' %}" 
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
              {% if request.resolver_match.app_name == 'users' %}
                  bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 border-r-2 border-move-purple-500 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
              {% else %}
                  text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
              {% endif %}">
        <i class="fas fa-user-cog mr-3 h-5 w-5 flex-shrink-0"></i>
        Usuários
    </a>
    
    <a href="{% url 'hr:employee_list' %}" 
       class="group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 
              {% if request.resolver_match.app_name == 'hr' %}
                  bg-gradient-to-r from-move-purple-50 to-move-pink-50 text-move-purple-700 border-r-2 border-move-purple-500 dark:from-move-purple-900 dark:to-move-pink-900 dark:text-move-purple-200
              {% else %}
                  text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700
              {% endif %}">
        <i class="fas fa-building mr-3 h-5 w-5 flex-shrink-0"></i>
        RH
    </a>
</div>

<!-- AÇÕES RÁPIDAS -->
<div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-600">
    <h3 class="px-2 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
        Ações Rápidas
    </h3>
    
    <div class="space-y-1">
        <button id="quick-add-beneficiary" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
            <i class="fas fa-user-plus mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Nova Beneficiária</span>
        </button>
        
        <button id="quick-add-evolution" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
            <i class="fas fa-chart-line mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Registrar Evolução</span>
        </button>
        
        <button id="quick-search" 
                class="group flex w-full items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-150 text-gray-700 hover:text-move-purple-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:text-move-purple-300 dark:hover:bg-gray-700">
            <i class="fas fa-search mr-3 h-5 w-5 flex-shrink-0"></i>
            <span class="flex-1">Busca Global</span>
        </button>
    </div>
</div>

<!-- Scripts para Ações Rápidas -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mensagem rápida
    document.getElementById('quick-message-btn').addEventListener('click', function(e) {
        e.preventDefault();
        // Abrir modal de mensagem rápida
        openQuickMessageModal();
    });
    
    // Busca global
    document.getElementById('quick-search').addEventListener('click', function(e) {
        e.preventDefault();
        // Focar no campo de busca global
        document.getElementById('global-search').focus();
    });
    
    // Nova beneficiária
    document.getElementById('quick-add-beneficiary').addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = '{% url "members:beneficiary-create" %}';
    });
    
    // Registrar evolução
    document.getElementById('quick-add-evolution').addEventListener('click', function(e) {
        e.preventDefault();
        window.location.href = '{% url "evolution:create" %}';
    });
});

function openQuickMessageModal() {
    // Implementar modal de mensagem rápida
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50';
    modal.innerHTML = `
        <div class="bg-white dark:bg-gray-800 rounded-lg p-6 w-96">
            <h3 class="text-lg font-semibold mb-4">Mensagem Rápida</h3>
            <form id="quick-message-form">
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Para:</label>
                    <select class="w-full p-2 border rounded-md">
                        <option>Selecione um usuário...</option>
                        <!-- Carregar usuários via AJAX -->
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Mensagem:</label>
                    <textarea class="w-full p-2 border rounded-md" rows="4"></textarea>
                </div>
                <div class="flex justify-end space-x-2">
                    <button type="button" onclick="closeQuickMessageModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800">Cancelar</button>
                    <button type="submit" class="px-4 py-2 bg-move-purple-600 text-white rounded-md hover:bg-move-purple-700">Enviar</button>
                </div>
            </form>
        </div>
    `;
    document.body.appendChild(modal);
}

function closeQuickMessageModal() {
    const modal = document.querySelector('.fixed.inset-0');
    if (modal) {
        modal.remove();
    }
}
</script>
