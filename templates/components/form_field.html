<!-- Form Components -->

<!-- Standard Input Field -->
{% comment %}
Usage: {% include 'components/form_field.html' with field=form.field_name label="Label" required=True %}
{% endcomment %}
<div class="mm-form-group">
    {% if label %}
        <label for="{{ field.id_for_label }}" class="mm-form-label">
            {{ label }}
            {% if required %}
                <span class="text-red-500 ml-1">*</span>
            {% endif %}
        </label>
    {% endif %}
    
    {% if field.field.widget.input_type == 'textarea' %}
        <textarea 
            id="{{ field.id_for_label }}" 
            name="{{ field.name }}" 
            class="mm-form-input mm-form-textarea {% if field.errors %}mm-form-error{% endif %}"
            {% if required %}required{% endif %}
            {% if field.field.widget.attrs.placeholder %}placeholder="{{ field.field.widget.attrs.placeholder }}"{% endif %}
            {% if field.field.widget.attrs.rows %}rows="{{ field.field.widget.attrs.rows }}"{% else %}rows="4"{% endif %}
        >{{ field.value|default_if_none:'' }}</textarea>
    {% elif field.field.widget.input_type == 'select' %}
        <select 
            id="{{ field.id_for_label }}" 
            name="{{ field.name }}" 
            class="mm-form-input mm-form-select {% if field.errors %}mm-form-error{% endif %}"
            {% if required %}required{% endif %}
        >
            {% for choice in field.field.choices %}
                <option value="{{ choice.0 }}" {% if choice.0 == field.value %}selected{% endif %}>{{ choice.1 }}</option>
            {% endfor %}
        </select>
    {% elif field.field.widget.input_type == 'checkbox' %}
        <div class="flex-center">
            <input 
                type="checkbox" 
                id="{{ field.id_for_label }}" 
                name="{{ field.name }}" 
                class="mm-form-checkbox {% if field.errors %}mm-form-error{% endif %}"
                {% if field.value %}checked{% endif %}
            >
            <label for="{{ field.id_for_label }}" class="ml-2 text-sm text-gray-700 dark:text-gray-300">
                {{ field.label }}
            </label>
        </div>
    {% elif field.field.widget.input_type == 'file' %}
        <input 
            type="file" 
            id="{{ field.id_for_label }}" 
            name="{{ field.name }}" 
            class="mm-form-file {% if field.errors %}mm-form-error{% endif %}"
            {% if required %}required{% endif %}
            {% if field.field.widget.attrs.accept %}accept="{{ field.field.widget.attrs.accept }}"{% endif %}
        >
    {% else %}
        <input 
            type="{{ field.field.widget.input_type|default:'text' }}" 
            id="{{ field.id_for_label }}" 
            name="{{ field.name }}" 
            class="mm-form-input {% if field.errors %}mm-form-error{% endif %}"
            value="{{ field.value|default_if_none:'' }}"
            {% if required %}required{% endif %}
            {% if field.field.widget.attrs.placeholder %}placeholder="{{ field.field.widget.attrs.placeholder }}"{% endif %}
            {% if field.field.widget.attrs.maxlength %}maxlength="{{ field.field.widget.attrs.maxlength }}"{% endif %}
        >
    {% endif %}
    
    {% if field.errors %}
        <div class="mm-form-error-message">
            {% for error in field.errors %}
                <span class="flex items-center text-sm text-red-600 dark:text-red-400">
                    <i class="fas fa-exclamation-circle mr-2"></i>
                    {{ error }}
                </span>
            {% endfor %}
        </div>
    {% endif %}
    
    {% if field.help_text %}
        <p class="mm-form-help-text">{{ field.help_text }}</p>
    {% endif %}
</div>
