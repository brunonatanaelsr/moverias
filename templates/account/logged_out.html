{% extends "layouts/public_base.html" %}
{% load static %}

{% block title %}Logout realizado - Move Marias{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <div>
            <!-- Logo -->
            <div class="flex justify-center">
                <img class="h-16 w-auto" src="{% static 'images/logo-move-marias.png' %}" alt="Move Marias" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="hidden h-16 w-16 bg-pink-600 rounded-full flex items-center justify-center">
                    <span class="text-white font-bold text-xl">MM</span>
                </div>
            </div>
            <h2 class="mt-6 text-center text-3xl font-bold tracking-tight text-gray-900">
                Logout realizado com sucesso
            </h2>
            <p class="mt-2 text-center text-sm text-gray-600">
                Você foi desconectado do sistema Move Marias
            </p>
        </div>
        
        <div class="mt-8 space-y-6">
            <!-- Mensagem de confirmação -->
            <div class="bg-green-50 border border-green-200 rounded-md p-4">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-green-800">
                            Sessão encerrada
                        </h3>
                        <p class="mt-1 text-sm text-green-700">
                            Sua sessão foi encerrada com segurança. Obrigado por usar o sistema Move Marias!
                        </p>
                    </div>
                </div>
            </div>

            <!-- Ações disponíveis -->
            <div class="space-y-4">
                <!-- Botão de Login -->
                <a href="{% url 'account_login' %}" 
                   class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 transition duration-150 ease-in-out">
                    <svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 0a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    Fazer Login Novamente
                </a>

                <!-- Link para página inicial -->
                <a href="{% url 'core:home' %}" 
                   class="w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 transition duration-150 ease-in-out">
                    <svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    Página Inicial
                </a>
            </div>

            <!-- Informações de segurança -->
            <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-sm font-medium text-blue-800">
                            Informação de Segurança
                        </h3>
                        <div class="mt-1 text-sm text-blue-700">
                            <ul class="list-disc list-inside space-y-1">
                                <li>Seus dados estão seguros e protegidos</li>
                                <li>Feche o navegador se estiver em um computador compartilhado</li>
                                <li>Entre em contato conosco se tiver problemas de acesso</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rodapé -->
        <div class="text-center text-xs text-gray-500 space-y-2">
            <p>&copy; {{ current_year|default:"2025" }} Move Marias. Todos os direitos reservados.</p>
            <p>
                <a href="mailto:suporte@movemarias.org" class="text-pink-600 hover:text-pink-500">
                    Precisa de ajuda? Entre em contato
                </a>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Limpar qualquer cache/dados locais após logout
    if (typeof(Storage) !== "undefined") {
        // Limpar localStorage relacionado ao sistema
        const keysToRemove = [];
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && (key.startsWith('move_') || key.startsWith('dashboard_'))) {
                keysToRemove.push(key);
            }
        }
        keysToRemove.forEach(key => localStorage.removeItem(key));
        
        // Limpar sessionStorage
        sessionStorage.clear();
    }
    
    // Animação de entrada
    const container = document.querySelector('.max-w-md');
    container.style.opacity = '0';
    container.style.transform = 'translateY(20px)';
    
    setTimeout(() => {
        container.style.transition = 'all 0.5s ease-in-out';
        container.style.opacity = '1';
        container.style.transform = 'translateY(0)';
    }, 100);
});
</script>
{% endblock %}
