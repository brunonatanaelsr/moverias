{% extends "layouts/list.html" %}

{% block title %}Beneficiárias - {{ block.super }}{% endblock %}

{% block list_title %}Beneficiárias{% endblock %}

{% block list_description %}Lista de todas as beneficiárias cadastradas no sistema.{% endblock %}

{% block list_actions %}
<a href="{% url 'members:create' %}" class="block rounded-md bg-pink-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600">
    Nova Beneficiária
</a>
{% endblock %}

{% block table_headers %}
<th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">Nome</th>
<th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">CPF</th>
<th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Telefone</th>
<th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Status</th>
<th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6">
    <span class="sr-only">Ações</span>
</th>
{% endblock %}

{% block table_body %}
{% for beneficiary in beneficiaries %}
<tr>
    <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6">
        {{ beneficiary.full_name }}
    </td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{ beneficiary.cpf }}</td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{ beneficiary.phone }}</td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
        <span class="inline-flex items-center rounded-md {% if beneficiary.is_active %}bg-green-50{% else %}bg-red-50{% endif %} px-2 py-1 text-xs font-medium {% if beneficiary.is_active %}text-green-700 ring-green-600/20{% else %}text-red-700 ring-red-600/20{% endif %} ring-1 ring-inset">
            {{ beneficiary.get_status_display }}
        </span>
    </td>
    <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6">
        <div class="flex justify-end gap-2">
            <a href="{% url 'members:detail' beneficiary.pk %}" class="text-pink-600 hover:text-pink-900">
                Ver<span class="sr-only">, {{ beneficiary.full_name }}</span>
            </a>
            <a href="{% url 'members:update' beneficiary.pk %}" class="text-pink-600 hover:text-pink-900">
                Editar<span class="sr-only">, {{ beneficiary.full_name }}</span>
            </a>
            <a href="{% url 'members:delete' beneficiary.pk %}" class="text-pink-600 hover:text-pink-900">
                Excluir<span class="sr-only">, {{ beneficiary.full_name }}</span>
            </a>
        </div>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="5" class="py-4 pl-4 pr-3 text-sm text-gray-500 text-center">
        Nenhuma beneficiária cadastrada.
    </td>
</tr>
{% endfor %}
{% endblock %}
